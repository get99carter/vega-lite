{
  "$schema": "https://vega.github.io/schema/vega/v4.json",
  "description": "A simple bar chart with embedded data.",
  "autosize": "pad",
  "padding": 5,
  "data": [
    {
      "name": "source_0",
      "values": [
        {"a": "A", "b": "X", "x": 1, "y": 4},
        {"a": "A", "b": "Y", "x": 3, "y": 5},
        {"a": "A", "b": "Z", "x": 5, "y": 6},
        {"a": "B", "b": "X", "x": 2, "y": 7},
        {"a": "B", "b": "Y", "x": 9, "y": 8},
        {"a": "B", "b": "Z", "x": 8, "y": 9},
        {"a": "C", "b": "X", "x": 7, "y": 1},
        {"a": "C", "b": "Y", "x": 6, "y": 2},
        {"a": "C", "b": "Z", "x": 4, "y": 3}
      ]
    },
    {
      "name": "data_0",
      "source": "source_0",
      "transform": [
        {
          "type": "window",
          "params": [null],
          "as": ["median_x_by_a"],
          "ops": ["median"],
          "fields": ["x"],
          "sort": {"field": [], "order": []},
          "groupby": ["a"],
          "frame": [null, null]
        },
        {
          "type": "window",
          "params": [null],
          "as": ["median_y_by_b"],
          "ops": ["median"],
          "fields": ["y"],
          "sort": {"field": [], "order": []},
          "groupby": ["b"],
          "frame": [null, null]
        },
        {
          "type": "formula",
          "expr": "datum[\"a\"]===\"B\" ? 0 : datum[\"a\"]===\"C\" ? 1 : datum[\"a\"]===\"A\" ? 2 : 3",
          "as": "column_a_sort_index"
        },
        {
          "type": "formula",
          "expr": "datum[\"b\"]===\"Y\" ? 0 : datum[\"b\"]===\"X\" ? 1 : datum[\"b\"]===\"Z\" ? 2 : 3",
          "as": "row_b_sort_index"
        },
        {
          "type": "formula",
          "expr": "datum[\"a\"]===\"B\" ? 0 : datum[\"a\"]===\"C\" ? 1 : datum[\"a\"]===\"A\" ? 2 : 3",
          "as": "column_a_sort_index"
        },
        {
          "type": "formula",
          "expr": "datum[\"b\"]===\"Y\" ? 0 : datum[\"b\"]===\"X\" ? 1 : datum[\"b\"]===\"Z\" ? 2 : 3",
          "as": "row_b_sort_index"
        }
      ]
    },
    {
      "name": "column_domain",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a"],
          "fields": ["column_a_sort_index"],
          "ops": ["max"],
          "as": ["column_a_sort_index"]
        }
      ]
    },
    {
      "name": "row_domain",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["b"],
          "fields": ["row_b_sort_index"],
          "ops": ["max"],
          "as": ["row_b_sort_index"]
        }
      ]
    },
    {
      "name": "data_2",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_3",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_4",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_5",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_6",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_7",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_8",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_9",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_10",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_11",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_12",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_13",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_14",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_15",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_16",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_17",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_18",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_19",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_20",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_21",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_22",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_23",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_24",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_25",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_26",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_27",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_28",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_29",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_30",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_31",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_32",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_33",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_34",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_35",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_36",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_37",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_38",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_39",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_40",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_41",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_42",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_43",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_44",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_45",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_46",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_47",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_48",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_49",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_50",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_51",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_52",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_53",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_54",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_55",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_56",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_57",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_58",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_59",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_60",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_61",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_62",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_63",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_64",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_65",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_66",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_67",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_68",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_69",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_70",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_71",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_72",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_73",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_74",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_75",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_76",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_77",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_78",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_79",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_80",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_81",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_82",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_83",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_84",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_85",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_86",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_87",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_88",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_89",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_90",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_91",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_92",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_93",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_94",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_95",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_96",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_97",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_98",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_99",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_100",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_101",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_102",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_103",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_104",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_105",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_106",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_107",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_108",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_109",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_110",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_111",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_112",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_113",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_114",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_115",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_116",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_117",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_118",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_119",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_120",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_121",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_122",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_123",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_124",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_125",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_126",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_127",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_128",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_129",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_130",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_131",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_132",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_133",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_134",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_135",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_136",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_137",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_138",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_139",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_140",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_141",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_142",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_143",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_144",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_145",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_146",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_147",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_148",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_149",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_150",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_151",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_152",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_153",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_154",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_155",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_156",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_157",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_158",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_159",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_160",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_161",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_162",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_163",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_164",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_165",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_166",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_167",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_168",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_169",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_170",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_171",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_172",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_173",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_174",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_175",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_176",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_177",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_178",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_179",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_180",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_181",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_182",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_183",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_184",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_185",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_186",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_187",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_188",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_189",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_190",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_191",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_192",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_193",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_194",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_195",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_196",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_197",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_198",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_199",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_200",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_x_by_a"],
          "as": ["median_median_x_by_a"]
        }
      ]
    },
    {
      "name": "data_201",
      "source": "data_0",
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["a", "b"],
          "ops": ["median"],
          "fields": ["median_y_by_b"],
          "as": ["median_median_y_by_b"]
        }
      ]
    },
    {
      "name": "data_202",
      "source": "data_0",
      "transform": [
        {"type": "formula", "expr": "toNumber(datum[\"x\"])", "as": "x"},
        {"type": "formula", "expr": "toNumber(datum[\"y\"])", "as": "y"}
      ]
    }
  ],
  "signals": [
    {"name": "child_width", "value": 50},
    {"name": "child_height", "value": 50}
  ],
  "layout": {
    "padding": {"row": 10, "column": 10},
    "offset": {"rowTitle": 10, "columnTitle": 10},
    "columns": {"signal": "length(data('column_domain'))"},
    "bounds": "full",
    "align": "all"
  },
  "marks": [
    {
      "name": "row-title",
      "type": "group",
      "role": "row-title",
      "title": {
        "text": "b",
        "offset": 10,
        "orient": "left",
        "style": "guide-title"
      }
    },
    {
      "name": "column-title",
      "type": "group",
      "role": "column-title",
      "title": {"text": "a", "offset": 10, "style": "guide-title"}
    },
    {
      "name": "row_header",
      "type": "group",
      "role": "row-header",
      "from": {"data": "row_domain"},
      "sort": {"field": "datum[\"row_b_sort_index\"]", "order": "ascending"},
      "title": {
        "text": {"signal": "''+parent[\"b\"]"},
        "offset": 10,
        "orient": "left",
        "style": "guide-label",
        "baseline": "middle"
      },
      "encode": {"update": {"height": {"signal": "child_height"}}},
      "axes": [
        {
          "scale": "y",
          "orient": "left",
          "grid": false,
          "title": "y",
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(child_height/40)"},
          "zindex": 1
        }
      ]
    },
    {
      "name": "column_header",
      "type": "group",
      "role": "column-header",
      "from": {"data": "column_domain"},
      "sort": {"field": "datum[\"column_a_sort_index\"]", "order": "ascending"},
      "title": {
        "text": {"signal": "''+parent[\"a\"]"},
        "offset": 10,
        "style": "guide-label",
        "baseline": "middle"
      },
      "encode": {"update": {"width": {"signal": "child_width"}}}
    },
    {
      "name": "column_footer",
      "type": "group",
      "role": "column-footer",
      "from": {"data": "column_domain"},
      "sort": {"field": "datum[\"column_a_sort_index\"]", "order": "ascending"},
      "encode": {"update": {"width": {"signal": "child_width"}}},
      "axes": [
        {
          "scale": "x",
          "orient": "bottom",
          "grid": false,
          "title": "x",
          "labelFlush": true,
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(child_width/40)"},
          "zindex": 1
        }
      ]
    },
    {
      "name": "cell",
      "type": "group",
      "style": "cell",
      "from": {
        "facet": {
          "name": "facet",
          "data": "data_0",
          "groupby": ["b", "a"],
          "aggregate": {
            "cross": true,
            "fields": ["row_b_sort_index", "column_a_sort_index"],
            "ops": ["max", "max"],
            "as": ["row_b_sort_index", "column_a_sort_index"]
          }
        }
      },
      "sort": {
        "field": [
          "datum[\"row_b_sort_index\"]",
          "datum[\"column_a_sort_index\"]"
        ],
        "order": ["ascending", "ascending"]
      },
      "data": [
        {
          "source": "facet",
          "name": "data_0",
          "transform": [
            {"type": "formula", "expr": "toNumber(datum[\"x\"])", "as": "x"},
            {"type": "formula", "expr": "toNumber(datum[\"y\"])", "as": "y"}
          ]
        },
        {
          "source": "facet",
          "name": "data_1",
          "transform": [
            {
              "type": "aggregate",
              "groupby": [],
              "ops": ["median"],
              "fields": ["median_x_by_a"],
              "as": ["median_median_x_by_a"]
            }
          ]
        },
        {
          "source": "facet",
          "name": "data_2",
          "transform": [
            {
              "type": "aggregate",
              "groupby": [],
              "ops": ["median"],
              "fields": ["median_y_by_b"],
              "as": ["median_median_y_by_b"]
            }
          ]
        }
      ],
      "encode": {
        "update": {
          "width": {"signal": "child_width"},
          "height": {"signal": "child_height"}
        }
      },
      "marks": [
        {
          "name": "child_layer_0_marks",
          "type": "symbol",
          "style": ["point"],
          "from": {"data": "data_0"},
          "encode": {
            "update": {
              "opacity": {"value": 0.7},
              "fill": [
                {
                  "test": "datum[\"x\"] === null || isNaN(datum[\"x\"]) || datum[\"y\"] === null || isNaN(datum[\"y\"])",
                  "value": null
                },
                {"value": "transparent"}
              ],
              "stroke": [
                {
                  "test": "datum[\"x\"] === null || isNaN(datum[\"x\"]) || datum[\"y\"] === null || isNaN(datum[\"y\"])",
                  "value": null
                },
                {"value": "#4c78a8"}
              ],
              "tooltip": {
                "signal": "{\"x\": format(datum[\"x\"], \"\"), \"y\": format(datum[\"y\"], \"\")}"
              },
              "x": {"scale": "x", "field": "x"},
              "y": {"scale": "y", "field": "y"}
            }
          }
        },
        {
          "name": "child_layer_1_marks",
          "type": "rule",
          "style": ["rule"],
          "from": {"data": "data_1"},
          "encode": {
            "update": {
              "stroke": [
                {
                  "test": "datum[\"median_median_x_by_a\"] === null || isNaN(datum[\"median_median_x_by_a\"])",
                  "value": null
                },
                {"value": "black"}
              ],
              "tooltip": {
                "signal": "{\"Median of median_x_by_a\": format(datum[\"median_median_x_by_a\"], \"\")}"
              },
              "x": {"scale": "x", "field": "median_median_x_by_a"},
              "y": {"field": {"group": "height"}},
              "y2": {"value": 0}
            }
          }
        },
        {
          "name": "child_layer_2_marks",
          "type": "rule",
          "style": ["rule"],
          "from": {"data": "data_2"},
          "encode": {
            "update": {
              "stroke": [
                {
                  "test": "datum[\"median_median_y_by_b\"] === null || isNaN(datum[\"median_median_y_by_b\"])",
                  "value": null
                },
                {"value": "black"}
              ],
              "tooltip": {
                "signal": "{\"Median of median_y_by_b\": format(datum[\"median_median_y_by_b\"], \"\")}"
              },
              "x": {"value": 0},
              "y": {"scale": "y", "field": "median_median_y_by_b"},
              "x2": {"field": {"group": "width"}}
            }
          }
        }
      ],
      "axes": [
        {
          "scale": "x",
          "orient": "bottom",
          "gridScale": "y",
          "grid": true,
          "tickCount": {"signal": "ceil(child_width/40)"},
          "domain": false,
          "labels": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        },
        {
          "scale": "y",
          "orient": "left",
          "gridScale": "x",
          "grid": true,
          "tickCount": {"signal": "ceil(child_height/40)"},
          "domain": false,
          "labels": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        }
      ]
    }
  ],
  "scales": [
    {
      "name": "x",
      "type": "linear",
      "domain": {
        "fields": [
          {"data": "data_202", "field": "x"},
          {"data": "data_200", "field": "median_median_x_by_a"}
        ]
      },
      "range": [0, {"signal": "child_width"}],
      "nice": true,
      "zero": true
    },
    {
      "name": "y",
      "type": "linear",
      "domain": {
        "fields": [
          {"data": "data_202", "field": "y"},
          {"data": "data_201", "field": "median_median_y_by_b"}
        ]
      },
      "range": [{"signal": "child_height"}, 0],
      "nice": true,
      "zero": true
    }
  ],
  "config": {"axisY": {"minExtent": 30}}
}
